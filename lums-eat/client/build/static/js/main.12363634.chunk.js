(this["webpackJsonplums-eat"]=this["webpackJsonplums-eat"]||[]).push([[0],Array(59).concat([function(e,t,a){},,,,,,,,function(e,t,a){e.exports=a(159)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),c=a.n(l),s=(a(72),a(6)),o=a(7),i=a(11),u=a(10),m=a(27),d=a(9),p=a(15),h=(a(77),a(34)),E=a.n(h),f=a(20),b=a.n(f),v=function(e){e?b.a.defaults.headers.common.Authorization=e:delete b.a.defaults.headers.common.Authorization},g=function(e){return{type:"SET_CURRENT_USER",payload:e}},N=function(){return function(e){return new Promise((function(t,a){localStorage.removeItem("jwtToken"),localStorage.removeItem("email"),localStorage.removeItem("name"),localStorage.removeItem("userID"),localStorage.removeItem("isRest"),localStorage.removeItem("RestaurantID"),localStorage.removeItem("address"),localStorage.removeItem("number"),v(!1),e(g({})),t("done")}))}},y=a(26),O=a(62),I=a(14),j="SET_CURRENT_USER",k={currentUser:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(I.a)(Object(I.a)({},e),{},{currentUser:t.payload});default:return e}},C={TOGGLE_CART_HIDDEN:"TOGGLE_CART_HIDDEN",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",CLEAR_ITEM_FROM_CART:"CLEAR_ITEM_FROM_CART"},S=a(66),D=function(e,t){return e.find((function(e){return e.ItemID===t.ItemID}))?e.map((function(e){return e.ItemID===t.ItemID?Object(I.a)(Object(I.a)({},e),{},{quantity:e.quantity+1}):e})):[].concat(Object(S.a)(e),[Object(I.a)(Object(I.a)({},t),{},{quantity:1})])},R=function(e,t){return 1===e.find((function(e){return e.ItemID===t.ItemID})).quantity?e.filter((function(e){return e.ItemID!==t.ItemID})):e.map((function(e){return e.ItemID===t.ItemID?Object(I.a)(Object(I.a)({},e),{},{quantity:e.quantity-1}):e}))},x={hidden:!0,cartItems:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.TOGGLE_CART_HIDDEN:return Object(I.a)(Object(I.a)({},e),{},{hidden:!e.hidden});case C.ADD_ITEM:return Object(I.a)(Object(I.a)({},e),{},{cartItems:D(e.cartItems,t.payload)});case C.REMOVE_ITEM:return Object(I.a)(Object(I.a)({},e),{},{cartItems:R(e.cartItems,t.payload)});case C.CLEAR_ITEM_FROM_CART:return Object(I.a)(Object(I.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))});default:return e}},T={collections:[]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return t.type,e},M={sections:[{title:"hats",imageUrl:"https://i.ibb.co/cvpntL1/hats.png",id:1,linkUrl:"shop/hats"},{title:"jackets",imageUrl:"https://i.ibb.co/px2tCc3/jackets.png",id:2,linkUrl:"shop/jackets"},{title:"sneakers",imageUrl:"https://i.ibb.co/0jqHpnp/sneakers.png",id:3,linkUrl:"shop/sneakers"},{title:"womens",imageUrl:"https://i.ibb.co/GCCdy8t/womens.png",size:"large",id:4,linkUrl:"shop/womens"},{title:"mens",imageUrl:"https://i.ibb.co/R70vBrQ/men.png",size:"large",id:5,linkUrl:"shop/mens"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;return t.type,e},F=a(97),L={isAuthenticated:!1,user:{},loading:!1},P={},G=Object(y.c)({user:w,cart:U,shop:A,directory:_,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(I.a)(Object(I.a)({},e),{},{isAuthenticated:!F(t.payload),user:t.payload});case"USER_LOADING":return Object(I.a)(Object(I.a)({},e),{},{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,q=Object(y.e)(G,{},H(Object(y.a)(O.a))),B=(a(98),a(12)),V=(a(99),Object(m.g)((function(e){var t=e.RestaurantID,a=e.name,n=e.imageurl,l=e.category,c=e.rating,s=(e.status,e.history),o=(e.linkUrl,e.match);return r.a.createElement("div",{className:"menu-item",onClick:function(){return s.push("".concat(o.url,"shop/").concat(t))}},r.a.createElement("div",{className:"background-image",style:{backgroundImage:"url(".concat(n,")")}}),r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"title"},a.toUpperCase()),r.a.createElement("span",{className:"subtitle"},l," "),r.a.createElement("span",{className:"subtitle"},c," ",r.a.createElement("span",{className:"fa fa-star checked"})," ")))}))),Y=(a(101),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.state={sections:[],search:""},e}return Object(o.a)(a,[{key:"updateSearch",value:function(e){this.setState({search:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;fetch("/restaurants").then((function(e){return e.json()})).then((function(t){return e.setState({sections:t})}))}},{key:"render",value:function(){var e=this,t=this.props.auth.user,a=this.state.sections.filter((function(t){return-1!==t.name.toUpperCase().indexOf(e.state.search.toUpperCase())}));return r.a.createElement("div",{className:"directory-menu"},t.name?r.a.createElement("b",null,"Hey there, ",t.name):r.a.createElement("b",null,"Hey there!"),r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",className:"search",placeholder:"search...",value:this.state.search,onChange:this.updateSearch.bind(this)})),r.a.createElement("hr",null),r.a.createElement("div",{className:"directory-menu"},a.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement(V,Object.assign({key:t},a))}))))}}]),a}(n.Component)),z=Object(d.b)((function(e){return{auth:e.auth}}),{logoutUser:N})(Y),K=(a(102),function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement(z,null))}),W=(a(103),a(20)),J=Object(m.g)((function(e){var t=e.OrderID,a=e.items,n=e.totalPrice,l=e.status,c=e.Type,s=e.userID,o=e.userContact,i=e.userAddress;e.history,e.linkUrl,e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"font"},t),r.a.createElement("td",{className:"font"},a.map((function(e){return r.a.createElement("span",{className:"items"},e[0]," - ",r.a.createElement("span",{className:"inside"},e[1]))}))),r.a.createElement("td",{className:"font"},n),r.a.createElement("td",{className:"font"},c),r.a.createElement("td",{className:"font"},s),r.a.createElement("td",{className:"font"},o),r.a.createElement("td",{className:"font"},i),r.a.createElement("td",{className:"font"},l),r.a.createElement("td",null,function(){switch(l){case"Dispatched":return r.a.createElement("span",{className:"disp",onClick:function(){var e={OrderID:t,update:{status:"Complete"}};W.post("/orders/update",e).then((function(e){window.location.reload()})).catch((function(e){return console.log(e)}))}},"Complete");case"Pending":return r.a.createElement("span",{className:"pend",onClick:function(){var e={OrderID:t,update:{status:"Dispatched"}};W.post("/orders/update",e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},"Dispatch");case"Complete":return r.a.createElement("span",{className:"complete",onClick:function(){var e={OrderID:t,update:{status:"Pending"}};W.post("/orders/update",e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},"Undo");default:return r.a.createElement("span",{className:"button",onClick:function(){return alert("button")}},"button")}}()))})),Z=(a(104),a(20)),Q=Object(m.g)((function(e){var t=e.OrderID,a=e.items,n=e.totalPrice,l=e.status,c=e.Type,s=e.userID,o=e.userAddress,i=e.userContact;e.history,e.linkUrl,e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"font"},t),r.a.createElement("td",{className:"font"},a.map((function(e){return r.a.createElement("span",{className:"items"},e[0]," - ",r.a.createElement("span",{className:"inside"},e[1]))}))),r.a.createElement("td",{className:"font"},n),r.a.createElement("td",{className:"font"},c),r.a.createElement("td",{className:"font"},s),r.a.createElement("td",{className:"font"},i),r.a.createElement("td",{className:"font"},o),r.a.createElement("td",{className:"font"},l),r.a.createElement("td",null,r.a.createElement("span",{className:"new-accept",onClick:function(){var e={OrderID:t,update:{status:"Pending"}};Z.post("/orders/update",e).then((function(){return window.location.reload()})).catch((function(e){return console.log(e)}))}},"Accept"),r.a.createElement("span",{className:"new-decline",onClick:function(){var e={OrderID:t,update:{status:"Declined"}};Z.post("/orders/update",e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},"Decline")))})),X=a(17),$=(a(105),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e.state={sections:[],newsections:[],complete:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/orders/all/".concat(localStorage.RestaurantID)).then((function(e){return e.json()})).then((function(t){return e.setState({sections:t})})),fetch("/orders/new/".concat(localStorage.RestaurantID)).then((function(e){return e.json()})).then((function(t){return e.setState({newsections:t})})),fetch("/orders/complete/".concat(localStorage.RestaurantID)).then((function(e){return e.json()})).then((function(t){return e.setState({complete:t})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("meta",{"http-equiv":"refresh",content:"10"}),r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},"New Orders"),r.a.createElement(X.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font"},r.a.createElement("th",null,"Order number"),r.a.createElement("th",null,"Items"),r.a.createElement("th",null,"Total Price"),r.a.createElement("th",null,"Order Type"),r.a.createElement("th",null,"User ID"),r.a.createElement("th",null,"User Contact"),r.a.createElement("th",null,"User Address"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.state.newsections.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement("tr",null,r.a.createElement(Q,Object.assign({key:t},a)))}))))),r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},"Orders ",r.a.createElement("span",{className:"number"},this.state.sections.length)),r.a.createElement(X.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font"},r.a.createElement("th",null,"Order number"),r.a.createElement("th",null,"Items"),r.a.createElement("th",null,"Total Price"),r.a.createElement("th",null,"Order Type"),r.a.createElement("th",null,"User ID"),r.a.createElement("th",null,"User Contact"),r.a.createElement("th",null,"User Address"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.state.sections.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement("tr",null,r.a.createElement(J,Object.assign({key:t},a)))}))))),r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},"Completed Orders ",r.a.createElement("span",{className:"number"},this.state.complete.length)),r.a.createElement(X.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font"},r.a.createElement("th",null,"Order number"),r.a.createElement("th",null,"Items"),r.a.createElement("th",null,"Total Price"),r.a.createElement("th",null,"Order Type"),r.a.createElement("th",null,"User ID"),r.a.createElement("th",null,"User Contact"),r.a.createElement("th",null,"User Address"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.state.complete.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement("tr",null,r.a.createElement(J,Object.assign({key:t},a)))}))))))}}]),a}(r.a.Component)),ee=Object(d.b)((function(e){return{auth:e.auth}}),{logoutUser:N})($);a(106);console.log(localStorage);var te=function(){return r.a.createElement("div",{className:"restaurantpage"},r.a.createElement(ee,null))},ae=(a(107),Object(m.g)((function(e){var t=e.OrderID,a=e.items,n=e.totalPrice,l=e.status,c=e.Type,s=e.userAddress,o=e.RestaurantID;e.history,e.linkUrl,e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"font"},t),r.a.createElement("td",{className:"font"},a.map((function(e){return r.a.createElement("span",{className:"items"},e[0]," - ",r.a.createElement("span",{className:"inside"},e[1]))}))),r.a.createElement("td",{className:"font"},n),r.a.createElement("td",{className:"font"},o),r.a.createElement("td",{className:"font"},c),r.a.createElement("td",{className:"font"},s),r.a.createElement("td",{className:"font"},l))}))),ne=(a(108),a(4)),re=Object(m.g)((function(e){var t=e.OrderID,a=e.items,n=e.totalPrice,l=e.status,c=e.Type,s=e.userAddress,o=e.RestaurantID;e.history,e.linkUrl,e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"font"},t),r.a.createElement("td",{className:"font"},a.map((function(e){return r.a.createElement("span",{className:"items"},e[0]," - ",r.a.createElement("span",{className:"inside"},e[1]))}))),r.a.createElement("td",{className:"font"},n),r.a.createElement("td",{className:"font"},o),r.a.createElement("td",{className:"font"},c),r.a.createElement("td",{className:"font"},s),r.a.createElement("td",{className:"font"},l),r.a.createElement("td",{className:"font"},r.a.createElement(ne.b,{className:"FeedbackButton",to:{pathname:"/userfeedback",state:{order:t,restaurant:o,item:a}}},"Give Feedback")))})),le=(a(109),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={active:[],unconfirmed:[],complete:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.userID&&(fetch("/users/neworders/".concat(localStorage.userID)).then((function(e){return e.json()})).then((function(t){return e.setState({unconfirmed:t})})),fetch("/users/pendingorders/".concat(localStorage.userID)).then((function(e){return e.json()})).then((function(t){return e.setState({active:t})})),fetch("/users/completedorders/".concat(localStorage.userID)).then((function(e){return e.json()})).then((function(t){return e.setState({complete:t})})))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},"Pending Confirmation ",r.a.createElement("span",{className:"new-number"},this.state.unconfirmed.length)),r.a.createElement(X.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font"},r.a.createElement("th",null,"Order number"),r.a.createElement("th",null,"Items"),r.a.createElement("th",null,"Total Price"),r.a.createElement("th",null,"Restaurant"),r.a.createElement("th",null,"Order Type"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,this.state.unconfirmed.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement("tr",null,r.a.createElement(ae,Object.assign({key:t},a)))}))))),r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},"Active Orders ",r.a.createElement("span",{className:"active-number"},this.state.active.length)),r.a.createElement(X.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font"},r.a.createElement("th",null,"Order number"),r.a.createElement("th",null,"Items"),r.a.createElement("th",null,"Total Price"),r.a.createElement("th",null,"Restaurant"),r.a.createElement("th",null,"Order Type"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,this.state.active.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement("tr",null,r.a.createElement(ae,Object.assign({key:t},a)))}))))),r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},"Completed Orders ",r.a.createElement("span",{className:"completed-number"},this.state.complete.length)),r.a.createElement(X.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font"},r.a.createElement("th",null,"Order number"),r.a.createElement("th",null,"Items"),r.a.createElement("th",null,"Total Price"),r.a.createElement("th",null,"Restaurant"),r.a.createElement("th",null,"Order Type"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Feedback"))),r.a.createElement("tbody",null,this.state.complete.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement("tr",null,r.a.createElement(re,Object.assign({key:t},a)))}))))))}}]),a}(r.a.Component)),ce=Object(d.b)((function(e){return{auth:e.auth}}),{logoutUser:N})(le),se=(a(110),function(){return r.a.createElement("div",{className:"restaurantpage"},r.a.createElement(ce,null))}),oe=(a(111),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={sections:[],newsections:[]},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},r.a.createElement(ne.b,{className:"top",to:"/analytics"},"DAILY"),r.a.createElement(ne.b,{className:"top",to:"/analytics"},"WEEKLY"),r.a.createElement(ne.b,{className:"top",to:"/analytics"},"MONTHLY")),r.a.createElement(X.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font"},r.a.createElement("th",null,"Number of orders"),r.a.createElement("th",null,"Most ordered item"),r.a.createElement("th",null,"Revenue"))),r.a.createElement("tbody",null,this.state.sections.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement("tr",null,r.a.createElement(J,Object.assign({key:t},a)))}))))))}}]),a}(r.a.Component)),ie=(a(112),function(){return r.a.createElement("div",{className:"restaurantpage"},r.a.createElement(oe,null))}),ue=(a(113),function(e){var t=e.children,a=e.isGoogleSignIn,n=e.inverted,l=Object(B.a)(e,["children","isGoogleSignIn","inverted"]);return r.a.createElement("button",Object.assign({className:"".concat(n?"inverted":""," ").concat(a?"google-sign-in":""," custom-button")},l),t)}),me=function(){return{type:C.TOGGLE_CART_HIDDEN}},de=function(e){return{type:C.ADD_ITEM,payload:e}},pe=a(43),he=(a(130),a(131),Object(m.g)(Object(d.b)(null,(function(e){return{addItem:function(t){return e(de(t))}}}))((function(e){var t=e.item,a=e.addItem,n=e.history,l=(e.match,t.name),c=t.price,s=t.imageurl;return r.a.createElement("div",{className:"collection-item"},r.a.createElement(pe.NotificationContainer,null),r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(s,")")}}),r.a.createElement("div",{className:"collection-footer"},r.a.createElement("span",{className:"name"},l),r.a.createElement("span",{className:"price"},"PKR ",c)),localStorage.email?r.a.createElement(ue,{onClick:function(){a(t),pe.NotificationManager.info("Item added to cart")},inverted:!0},"Add to cart"):r.a.createElement(ue,{onClick:function(){n.push("/login"),window.location.reload()}},"Add to cart"))})))),Ee=(a(59),function(e){var t=e.title,a=e.items;return r.a.createElement("div",{className:"collection-preview"},r.a.createElement("h1",{className:"title"},t.toUpperCase()),r.a.createElement("div",{className:"preview"},a.filter((function(e,t){return t<4})).map((function(e){return r.a.createElement(he,{key:e.id,item:e})}))))}),fe=Object(p.a)([function(e){return e.shop}],(function(e){return e.collections})),be=Object(p.a)([fe],(function(e){return Object.keys(e).map((function(t){return e[t]}))})),ve=(a(132),Object(p.b)({collections:be})),ge=Object(d.b)(ve)((function(e){var t=e.collections;return r.a.createElement("div",{className:"collections-overview"},t.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement(Ee,Object.assign({key:t},a))})))})),Ne=(a(133),a(65)),ye=a.n(Ne),Oe=function(e){var t=e.items;return r.a.createElement("div",{className:"collection-preview"},r.a.createElement("h1",{className:"title"}," ",t[0].category," "),r.a.createElement("div",{className:"items"},t.map((function(e){return r.a.createElement(he,{key:e.id,item:e})}))))},Ie=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={collection:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/menu/find/".concat(this.props.match.params.id)).then((function(e){return e.json()})).then((function(t){return e.setState({collection:t})}))}},{key:"render",value:function(){var e,t=ye.a.groupBy(this.state.collection,"category");return e=Object.values(t).map((function(e){return r.a.createElement(Oe,{items:e})})),r.a.createElement("div",{className:"collection-page"},r.a.createElement("h2",{className:"title"}," ",this.props.match.params.id," "),r.a.createElement("div",{className:"collections-overview"},e))}}]),a}(r.a.Component),je=function(e){var t=e.match;return r.a.createElement("div",{className:"shop-page"},r.a.createElement(ne.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"".concat(t.path),component:ge}),r.a.createElement(m.b,{exact:!0,path:"/shop/:id",render:function(e){return r.a.createElement(Ie,e)}}))))},ke=(a(135),a(136),a(20)),we=function(e){var t=e.ItemID,a=e.name,n=e.price,l=e.availability;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"font"},t),r.a.createElement("td",{className:"font"},a),r.a.createElement("td",{className:"font"},n),r.a.createElement("td",null,function(){switch(l){case"Yes":return r.a.createElement("span",{className:"font"},"Available");case"No":return r.a.createElement("span",{className:"font"},"Unavailable");default:return r.a.createElement("span",{className:"font"},"-")}}()),r.a.createElement("td",null,function(){switch(l){case"Yes":return r.a.createElement("span",{className:"yes",onClick:function(){var e={ItemID:t,update:{availability:"No"}};ke.post("/menu/update",e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},"Pause");case"No":return r.a.createElement("span",{className:"no",onClick:function(){var e={ItemID:t,update:{availability:"Yes"}};ke.post("/menu/update",e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},"Resume");default:return r.a.createElement("span",{className:"button",onClick:function(){return alert("button")}},"button")}}()))},Ce=(a(137),a(20)),Se=function(e){var t=e.RestaurantID,a=(e.name,e.email,e.password,e.address,e.number,e.imageurl,e.rating,e.category,e.description,e.status);return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,function(){switch(a){case"Open":return r.a.createElement("span",{className:"font"},"Open");case"Close":return r.a.createElement("span",{className:"font"},"Closed");default:return r.a.createElement("span",{className:"font"},"-")}}()),r.a.createElement("td",null,function(){switch(a){case"Open":return r.a.createElement("span",{className:"open",onClick:function(){var e={RestaurantID:t,update:{status:"Close"}};Ce.post("/restaurants/update/",e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},"Close");case"Close":return r.a.createElement("span",{className:"close",onClick:function(){var e={RestaurantID:t,update:{status:"Open"}};Ce.post("/restaurants/update/",e).then((function(e){return window.location.reload()})).catch((function(e){return console.log(e)}))}},"Open");default:return r.a.createElement("span",{className:"button",onClick:function(){return alert("button")}},"button")}}()))},De=(a(138),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={state:[],body:{}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/menu/all/".concat(localStorage.RestaurantID)).then((function(e){return e.json()})).then((function(t){return e.setState({state:t})})),fetch("/restaurants/s/".concat(localStorage.RestaurantID)).then((function(e){return e.json()})).then((function(t){return e.setState({body:t})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},"Restaurant Availability ",r.a.createElement(Se,this.state.body))),r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},"Menu Items"),r.a.createElement(X.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font"},r.a.createElement("th",null,"Item Number"),r.a.createElement("th",null,"Item Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Availability "))),r.a.createElement("tbody",null,this.state.state.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement("tr",null,r.a.createElement(we,Object.assign({key:t},a)))}))))))}}]),a}(r.a.Component)),Re=function(){return r.a.createElement(De,null)},xe=a(23),Ue=a(29),Te=a.n(Ue),Ae=a(35),Me=(a(140),function(e){var t=e.handleChange,a=e.label,n=Object(B.a)(e,["handleChange","label"]);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"form-input",onChange:t},n)),a?r.a.createElement("label",{className:"".concat(n.value.length?"shrink":""," form-input-label")},a):null)}),_e=(a(141),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(Ae.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(xe.a)({},r,a))},n.state={email:"",password:""},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sign-in"},r.a.createElement("h2",null,"I already have an account"),r.a.createElement("span",null,"Sign in with your email and password"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Me,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"email",required:!0}),r.a.createElement(Me,{name:"password",type:"password",value:this.state.password,handleChange:this.handleChange,label:"password",required:!0}),r.a.createElement("div",{className:"buttons"},r.a.createElement(ue,{type:"submit"}," Sign in "))))}}]),a}(r.a.Component)),Fe=(a(142),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleSubmit=function(){var e=Object(Ae.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(xe.a)({},n,r))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.displayName,a=e.email,n=e.password,l=e.confirmPassword;return r.a.createElement("div",{className:"sign-up"},r.a.createElement("h2",{className:"title"},"I do not have a account"),r.a.createElement("span",null,"Sign up with your email and password"),r.a.createElement("form",{className:"sign-up-form",onSubmit:this.handleSubmit},r.a.createElement(Me,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),r.a.createElement(Me,{type:"email",name:"email",value:a,onChange:this.handleChange,label:"Email",required:!0}),r.a.createElement(Me,{type:"password",name:"password",value:n,onChange:this.handleChange,label:"Password",required:!0}),r.a.createElement(Me,{type:"password",name:"confirmPassword",value:l,onChange:this.handleChange,label:"Confirm Password",required:!0}),r.a.createElement(ue,{type:"submit"},"SIGN UP")))}}]),a}(r.a.Component)),Le=(a(143),function(){return r.a.createElement("div",{className:"sign-in-and-sign-up"},r.a.createElement(_e,null),r.a.createElement(Fe,null))}),Pe=function(e){return e.cart},Ge=Object(p.a)([Pe],(function(e){return e.cartItems})),He=Object(p.a)([Pe],(function(e){return e.hidden})),qe=Object(p.a)([Ge],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),Be=Object(p.a)([Ge],(function(e){return e.reduce((function(e,t){return e+t.quantity*t.price}),0)}));function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ye(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ze=r.a.createElement("g",null),Ke=r.a.createElement("g",null),We=r.a.createElement("g",null),Je=r.a.createElement("g",null),Ze=r.a.createElement("g",null),Qe=r.a.createElement("g",null),Xe=r.a.createElement("g",null),$e=r.a.createElement("g",null),et=r.a.createElement("g",null),tt=r.a.createElement("g",null),at=r.a.createElement("g",null),nt=r.a.createElement("g",null),rt=r.a.createElement("g",null),lt=r.a.createElement("g",null),ct=r.a.createElement("g",null),st=function(e){var t=e.svgRef,a=e.title,n=Ye(e,["svgRef","title"]);return r.a.createElement("svg",Ve({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 407.453 407.453",style:{enableBackground:"new 0 0 407.453 407.453"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#010002"},d:"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"}),r.a.createElement("path",{style:{fill:"#010002"},d:"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z"}),r.a.createElement("path",{style:{fill:"#010002"},d:"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z"}),r.a.createElement("path",{style:{fill:"#010002"},d:"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"}),r.a.createElement("path",{style:{fill:"#010002"},d:"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"})),ze,Ke,We,Je,Ze,Qe,Xe,$e,et,tt,at,nt,rt,lt,ct)},ot=r.a.forwardRef((function(e,t){return r.a.createElement(st,Ve({svgRef:t},e))})),it=(a.p,a(144),Object(p.b)({itemCount:qe})),ut=Object(d.b)(it,(function(e){return{toggleCartHidden:function(){return e(me())}}}))((function(e){var t=e.toggleCartHidden,a=e.itemCount;return r.a.createElement("div",{className:"cart-icon",onClick:t},r.a.createElement(ot,{className:"shopping-icon"}),r.a.createElement("span",{className:"item-count"},a))})),mt=(a(145),function(e){var t=e.item,a=t.imageurl,n=t.price,l=t.name,c=t.quantity;return r.a.createElement("div",{className:"cart-item"},r.a.createElement("img",{src:a,alt:"item"}),r.a.createElement("div",{className:"item-details"},r.a.createElement("span",{className:"name"},l),r.a.createElement("span",{className:"price"},c," x Rs",n)))}),dt=(a(146),Object(p.b)({cartItems:Ge})),pt=Object(m.g)(Object(d.b)(dt)((function(e){var t=e.cartItems,a=e.history,n=e.dispatch;return r.a.createElement("div",{className:"cart-dropdown"},r.a.createElement("div",{className:"cart-items"},t.length?t.map((function(e){return r.a.createElement(mt,{key:e.id,item:e})})):r.a.createElement("span",{className:"empty-message"},"Your cart is empty")),localStorage.email?r.a.createElement(ue,{onClick:function(){a.push("/checkout"),n(me())}},"GO TO CHECKOUT"):r.a.createElement(ue,{onClick:function(){a.push("/login"),n(me())}},"GO TO CHECKOUT"))})));function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ft=r.a.createElement("defs",null,r.a.createElement("style",null,"\n      .cls-1 {\n        fill: #333;\n      }\n\n      .cls-2 {\n        fill: #f8a22f;\n      }\n\n      .cls-3 {\n        fill: #fff;\n      }\n    ")),bt=r.a.createElement("g",{id:"Group_144","data-name":"Group 144",transform:"translate(-80.63 -230.46)"},r.a.createElement("path",{id:"Path_7783","data-name":"Path 7783",className:"cls-1",d:"M211.35,230.46h-2.419a1.126,1.126,0,0,0,0,2.253h.238v1.216h1.942v-1.216h.238a1.126,1.126,0,0,0,0-2.253Z",transform:"translate(-87.333)"}),r.a.createElement("path",{id:"Path_7784","data-name":"Path 7784",className:"cls-2",d:"M122.811,241.53H101.592a1.488,1.488,0,0,0,0,2.976h4.843a1.488,1.488,0,0,1,0,2.976H82.118a1.488,1.488,0,1,0,0,2.976H96.629a1.488,1.488,0,0,1,0,2.976h-10.4a1.488,1.488,0,1,0,0,2.976H100.4a1.488,1.488,0,0,1,0,2.976H90.73a1.488,1.488,0,1,0,0,2.976h7.246a1.488,1.488,0,1,1,0,2.976H82.118a1.491,1.491,0,0,0-1.488,1.488h0a1.491,1.491,0,0,0,1.488,1.479H93.744a1.491,1.491,0,0,1,1.363,1.482h0a1.491,1.491,0,0,1-1.488,1.488h-.627l-.341,2.982h27.832v-2.976h32.488A30.166,30.166,0,0,0,122.811,241.53Z",transform:"translate(0 -7.602)"}),r.a.createElement("rect",{id:"Rectangle_18","data-name":"Rectangle 18",className:"cls-1",width:71.451,height:2.976,rx:1.488,transform:"translate(83.735 263.681)"}),r.a.createElement("path",{id:"Path_7785","data-name":"Path 7785",className:"cls-3",d:"M241.9,273.12h0a.783.783,0,0,0,.774-.9,27.707,27.707,0,0,0-26.61-23.681.78.78,0,0,0-.8.783h0a.78.78,0,0,0,.761.78,26.144,26.144,0,0,1,25.1,22.35A.78.78,0,0,0,241.9,273.12Z",transform:"translate(-92.452 -12.415)"})),vt=function(e){var t=e.svgRef,a=e.title,n=Et(e,["svgRef","title"]);return r.a.createElement("svg",ht({width:74.556,height:36.197,viewBox:"0 0 74.556 36.197",ref:t},n),a?r.a.createElement("title",null,a):null,ft,bt)},gt=r.a.forwardRef((function(e,t){return r.a.createElement(vt,ht({svgRef:t},e))})),Nt=(a.p,a(147),a(148),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser(),e.props.history.push("/")},e}return Object(o.a)(a,[{key:"updateSearch",value:function(e){this.setState({search:e.target.value})}},{key:"render",value:function(){return r.a.createElement(ne.b,{className:"option",onClick:this.onLogoutClick},"LOGOUT")}}]),a}(n.Component)),yt=Object(m.g)(Object(d.b)((function(e){return{auth:e.auth}}),{logoutUser:N})(Nt));console.log(localStorage.isRest);var Ot=Object(p.b)({currentUser:function(){return{type:"USER_LOADING"}},hidden:He}),It=Object(d.b)(Ot)((function(e){e.currentUser;var t,a=e.hidden;e.check;return console.log(localStorage),localStorage.isRest||(t=localStorage.email?r.a.createElement(ne.b,{className:"option",to:"/orders"},"ORDERS"):r.a.createElement(ne.b,{className:"option",to:"/login"},"ORDERS")),r.a.createElement("div",{className:"header"},localStorage.isRest?r.a.createElement(ne.b,{className:"logo-container",to:"/restaurant"},r.a.createElement(gt,{className:"logo"}),r.a.createElement(ne.b,{className:"title1",to:"/restaurant"},"  "," "),r.a.createElement(ne.b,{className:"title1",to:"/restaurant"},"LUMS"),r.a.createElement(ne.b,{className:"title",to:"/restaurant"},"EAT")):r.a.createElement(ne.b,{className:"logo-container",to:"/"},r.a.createElement(gt,{className:"logo"}),r.a.createElement(ne.b,{className:"title1",to:"/"},"  "," "),r.a.createElement(ne.b,{className:"title1",to:"/"},"LUMS"),r.a.createElement(ne.b,{className:"title",to:"/"},"EAT")),r.a.createElement("div",{className:"options"},t,localStorage.isRest?r.a.createElement(ne.b,{className:"option",to:"/analytics"},"RESTAURANT ANALYTICS"):console.log("Not rest"),localStorage.isRest?r.a.createElement(ne.b,{className:"option",to:"/restaurant"},"RESTAURANT"):console.log("Not rest"),localStorage.isRest?r.a.createElement(ne.b,{className:"option",to:"/menu-update"},"MENU AVAILABILITY"):console.log("Not rest"),localStorage.isRest?r.a.createElement(ne.b,{className:"option",to:"/feedback"},"FEEDBACK"):console.log("Not rest"),localStorage.isRest?r.a.createElement(ne.b,{className:"option",to:"/add-menu"},"ADD"):console.log("Not rest"),localStorage.email?r.a.createElement(yt,null):r.a.createElement(ne.b,{className:"option",to:"/login"},"LOGIN"),localStorage.isRest?console.log("Not rest"):r.a.createElement(ut,null)),a?null:r.a.createElement(pt,null))})),jt=(a(149),function(e){var t=e.children,a=e.isGoogleSignIn,n=e.inverted,l=Object(B.a)(e,["children","isGoogleSignIn","inverted"]);return r.a.createElement("button",Object.assign({className:"".concat(n?"inverted":"","\n    ").concat(a?"google-sign-in":"","  custom-button")},l),t)}),kt=(a(150),Object(d.b)(null,(function(e){return{clearItem:function(t){return e(function(e){return{type:C.CLEAR_ITEM_FROM_CART,payload:e}}(t))},addItem:function(t){return e(de(t))},removeItem:function(t){return e(function(e){return{type:C.REMOVE_ITEM,payload:e}}(t))}}}))((function(e){var t=e.cartItem,a=e.clearItem,n=e.addItem,l=e.removeItem,c=t.name,s=t.imageurl,o=t.price,i=t.quantity;return r.a.createElement("div",{className:"checkout-item"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:s,alt:"item"})),r.a.createElement("span",{className:"name"},c),r.a.createElement("span",{className:"quantity"},r.a.createElement("div",{className:"arrow",onClick:function(){return l(t)}},"\u276e"),r.a.createElement("span",{className:"value"},i),r.a.createElement("div",{className:"arrow",onClick:function(){return n(t)}},"\u276f")),r.a.createElement("span",{className:"price"},"Rs.",o),r.a.createElement("div",{className:"remove-button",onClick:function(){return a(t)}},"\u2715"))}))),wt=(a(151),Object(p.b)({cartItems:Ge,total:Be})),Ct=Object(d.b)(wt)((function(e){var t,a=e.cartItems,n=e.total;return 0!==n&&(t=r.a.createElement(jt,null," Place Order ")),r.a.createElement("div",{className:"checkout-page"},r.a.createElement("div",{className:"checkout-header"},r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Product")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Description")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Quantity")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Price")),r.a.createElement("div",{className:"header-block"},r.a.createElement("span",null,"Remove"))),a.map((function(e){return r.a.createElement(kt,{key:e.id,cartItem:e})})),r.a.createElement("div",{className:"total"},"TOTAL: Rs.",n),t)})),St=Object(p.a)([function(e){return e.user}],(function(e){return e.currentUser})),Dt=(a(152),Object(m.g)((function(e){var t=e.UserID,a=(e.ItemID,e.OrderID,e.RestaurantID),n=e.Feedback;e.history,e.linkUrl,e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"font"},t),r.a.createElement("td",{className:"font"},a),r.a.createElement("td",{className:"font"},n))}))),Rt=(a(153),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={allfeedback:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/feedback/byrestaurant/".concat(localStorage.RestaurantID)).then((function(e){return e.json()})).then((function(t){return e.setState({allfeedback:t})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"restaurant-menu"},r.a.createElement("div",{className:"top"},"Feedback ",r.a.createElement("span",{className:"new-number"},this.state.allfeedback.length)),r.a.createElement(X.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"font"},r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Restaurant"),r.a.createElement("th",null,"Feedback"))),r.a.createElement("tbody",null,this.state.allfeedback.map((function(e){var t=e.id,a=Object(B.a)(e,["id"]);return r.a.createElement("tr",null,r.a.createElement(Dt,Object.assign({key:t},a)))}))))))}}]),a}(r.a.Component)),xt=(a(154),function(){return r.a.createElement("div",{className:"restaurantpage"},r.a.createElement(Rt,null))}),Ut=a(13),Tt=a(30),At=a(21),Mt=(a(155),a(20)),_t=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleSubmit=function(t){return function(a){a.preventDefault();var n={UserID:t,ItemID:e.state.ItemID,OrderID:e.state.OrderID,RestaurantID:e.state.RestaurantID,Feedback:e.state.Feedback};Mt.post("/feedback/add",n).then((function(t){return e.setState({text2:"Feedback has been sent to restaurant!"})}),e.setState({popupshow:!0})).catch((function(t){return e.setState({text:"Error"})}),e.setState({text2:"Could not send feedback!"}),e.setState({popupshow:!0}))}},e.refresh=function(e){window.location.reload()},e.state={UserID:"",ItemID:"",OrderID:"",RestaurantID:"",Feedback:"",popupshow:!1,text:"Feedback Sent!",text2:"Feedback has been sent to restaurant!"},e}return Object(o.a)(a,[{key:"updateUserID",value:function(e){this.setState({UserID:e.target.value})}},{key:"updateItemID",value:function(e){this.setState({ItemID:e.target.value})}},{key:"updateOrderID",value:function(e){this.setState({OrderID:e.target.value})}},{key:"updateRestaurantID",value:function(e){this.setState({RestaurantID:e.target.value})}},{key:"updateFeedback",value:function(e){this.setState({Feedback:e.target.value})}},{key:"componentDidMount",value:function(){var e=this.props.location.state.order,t=this.props.location.state.restaurant,a=this.props.location.state.item;this.setState({RestaurantID:t}),this.setState({OrderID:e}),this.setState({ItemID:a[0][0]})}},{key:"renderIcon",value:function(){return this.setState({UserID:"CHECK"}),r.a.createElement("div",null,"Function called")}},{key:"render",value:function(){var e=this,t=this.props.auth.user;return r.a.createElement("dic",{className:"restaurantpage"},r.a.createElement("div",{className:"check"},r.a.createElement("div",{className:"center"},r.a.createElement("h1",null,"Restaurant: ",this.state.RestaurantID.toUpperCase()),r.a.createElement("h1",null,"Order ID: ",this.state.OrderID)),r.a.createElement(Ut.a,{onSubmit:this.handleSubmit(t.name.toString())},r.a.createElement(Ut.a.Group,{controlId:"Feedback"},r.a.createElement(Ut.a.Label,null,"Feedback"),r.a.createElement(Ut.a.Control,{type:"name",placeholder:"Enter Feedback",required:!0,value:this.state.Feedback,onChange:this.updateFeedback.bind(this)})),r.a.createElement(Tt.a,{variant:"primary",type:"submit",block:!0},"Submit"),r.a.createElement(At.a,{show:this.state.popupshow},r.a.createElement(At.a.Header,{closeButton:!0,onClick:function(){return e.setState({popupshow:!1})}},r.a.createElement(At.a.Title,null," ",this.state.text," ")),r.a.createElement(At.a.Body,null," ",this.state.text2," "),r.a.createElement(At.a.Footer,null,r.a.createElement(Tt.a,{variant:"primary",onClick:this.refresh},"Ok"))))))}}]),a}(r.a.Component),Ft=Object(d.b)((function(e){return{auth:e.auth}}),{logoutUser:N})(_t),Lt=(a(157),a(20)),Pt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={ItemID:e.state.ItemID,RestaurantID:e.state.RestaurantID,name:e.state.name,description:e.state.description,category:e.state.category,availability:e.state.availability,price:e.state.price,imageurl:e.state.imageurl};Lt.post("/menu/add",a).then((function(t){return e.setState({text2:"Item has been added to menu!"})}),e.setState({popupshow:!0})).catch((function(t){return e.setState({text:"Error"})}),e.setState({text2:"Could not add item to menu!"}),e.setState({popupshow:!0}))},e.refresh=function(e){window.location.reload()},e.state={ItemID:"",RestaurantID:"zakir",name:"",description:"",category:"",availability:"Yes",price:"",imageurl:"",popupshow:!1,text:"Item Added",text2:"Item has been added to menu!"},e}return Object(o.a)(a,[{key:"updateID",value:function(e){this.setState({ItemID:e.target.value})}},{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"updatePrice",value:function(e){this.setState({price:e.target.value})}},{key:"updateDescription",value:function(e){this.setState({description:e.target.value})}},{key:"updateCategory",value:function(e){this.setState({category:e.target.value})}},{key:"updateImage",value:function(e){this.setState({imageurl:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"check"},r.a.createElement("h1",null,"Add Item to Menu"),r.a.createElement(Ut.a,{onSubmit:this.handleSubmit},r.a.createElement(Ut.a.Group,{controlId:"ItemID"},r.a.createElement(Ut.a.Label,null,"Item ID"),r.a.createElement(Ut.a.Control,{type:"name",className:"itemid",placeholder:"Enter item ID",required:!0,value:this.state.ItemID,onChange:this.updateID.bind(this)})),r.a.createElement(Ut.a.Group,{controlId:"Name"},r.a.createElement(Ut.a.Label,null,"Item Name"),r.a.createElement(Ut.a.Control,{type:"name",className:"itemname",placeholder:"Enter item name",required:!0,value:this.state.name,onChange:this.updateName.bind(this)})),r.a.createElement(Ut.a.Group,{controlId:"Price"},r.a.createElement(Ut.a.Label,null,"Price"),r.a.createElement(Ut.a.Control,{type:"number",placeholder:"Enter price in pkr",required:!0,value:this.state.price,onChange:this.updatePrice.bind(this)})),r.a.createElement(Ut.a.Group,{controlId:"Description"},r.a.createElement(Ut.a.Label,null,"Description"),r.a.createElement(Ut.a.Control,{type:"name",placeholder:"Enter item description",required:!0,value:this.state.description,onChange:this.updateDescription.bind(this)})),r.a.createElement(Ut.a.Group,{controlId:"Category"},r.a.createElement(Ut.a.Label,null,"Category"),r.a.createElement(Ut.a.Control,{type:"name",placeholder:"Enter item category",required:!0,value:this.state.category,onChange:this.updateCategory.bind(this)})),r.a.createElement(Ut.a.Group,{controlId:"Image"},r.a.createElement(Ut.a.Label,null,"Image"),r.a.createElement(Ut.a.Control,{type:"name",placeholder:"Enter image url",required:!0,value:this.state.imageurl,onChange:this.updateImage.bind(this)})),r.a.createElement(Tt.a,{variant:"primary",type:"submit",block:!0},"Add Item"),r.a.createElement(At.a,{show:this.state.popupshow},r.a.createElement(At.a.Header,{closeButton:!0,onClick:function(){return e.setState({popupshow:!1})}},r.a.createElement(At.a.Title,null," ",this.state.text," ")),r.a.createElement(At.a.Body,null," ",this.state.text2," "),r.a.createElement(At.a.Footer,null,r.a.createElement(Tt.a,{variant:"primary",onClick:this.refresh},"Ok")))))}}]),a}(r.a.Component),Gt=(a(158),function(){return r.a.createElement("div",{className:"restaurantpage"},r.a.createElement(Pt,null))}),Ht=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement("h4",null,r.a.createElement("b",null,"Build")," a login/auth app with the"," ",r.a.createElement("span",{style:{fontFamily:"monospace"}},"MERN")," stack from scratch"),r.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"Create a (minimal) full-stack app with user authentication via passport and JWTs"),r.a.createElement("br",null),r.a.createElement("div",{className:"col s6"},r.a.createElement(ne.b,{to:"/register",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Register")),r.a.createElement("div",{className:"col s6"},r.a.createElement(ne.b,{to:"/login",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large btn-flat waves-effect white black-text"},"Log In")))))}}]),a}(n.Component),qt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Ht,null))}}]),a}(n.Component),Bt=a(33),Vt=a(3),Yt=a.n(Vt),zt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(xe.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email.toLowerCase(),password:e.state.password,isRest:e.state.isRest};e.props.loginUser(a)},e.state={email:"",password:"",isRest:!1,errors:{}},e.handleChecked=e.handleChecked.bind(Object(Bt.a)(e)),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&(localStorage.isRest?this.props.history.push("/restaurant"):this.props.history.push("/"))}},{key:"handleChecked",value:function(){this.setState({isRest:!this.state.isRest})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&(localStorage.isRest?this.props.history.push("/restaurant"):this.props.history.push("/")),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{marginTop:"4rem"},className:"row"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement(ne.b,{to:"/",className:"btn-flat waves-effect"},r.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,r.a.createElement("b",null,"Login")," below"),r.a.createElement("p",{className:"grey-text text-darken-1"},"Don't have an account? ",r.a.createElement(ne.b,{to:"/register"},"Register"))),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:Yt()("",{invalid:e.email||e.emailnotfound})}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:Yt()("",{invalid:e.password||e.passwordincorrect})}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect)),r.a.createElement("p",{style:{paddingLeft:"11.250px"}},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onChange:this.handleChecked}),r.a.createElement("span",null,"Login as Restuarant?"))),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Login"))))))}}]),a}(n.Component),Kt=Object(d.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){b.a.post("/users/login",e).then((function(e){console.log(e.data);var a=e.data.token,n=e.data.email,r=e.data.userID,l=e.data.name,c=e.data.isRest,s=e.data.restID,o=e.data.address,i=e.data.number;c?(localStorage.setItem("jwtToken",a),localStorage.setItem("RestaurantID",s),localStorage.setItem("email",n),localStorage.setItem("name",l),localStorage.setItem("isRest",c)):(localStorage.setItem("jwtToken",a),localStorage.setItem("userID",r),localStorage.setItem("email",n),localStorage.setItem("name",l),localStorage.setItem("address",o),localStorage.setItem("number",i)),console.log(localStorage),v(a);var u=E()(a);t(g(u))})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}})(zt),Wt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(xe.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2,address:e.state.address,number:e.state.number,userID:e.state.userID};e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",address:"",number:"",userID:"_"+Math.random().toString(36).substr(2,9),errors:{}},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement(ne.b,{to:"/",className:"btn-flat waves-effect"},r.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,r.a.createElement("b",null,"Register")," below"),r.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",r.a.createElement(ne.b,{to:"/login"},"Log in"))),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:Yt()("",{invalid:e.name})}),r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("span",{className:"red-text"},e.name)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:Yt()("",{invalid:e.email})}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"red-text"},e.email)),r.a.createElement("div",{class:"input-field col s12"},r.a.createElement("select",{class:"browser-default",onChange:this.onChange,value:this.state.address,error:e.address,id:"address",type:"address"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Choose your option"),r.a.createElement("option",{value:"F1"},"F1"),r.a.createElement("option",{value:"F2"},"F2"),r.a.createElement("option",{value:"F3"},"F3"),r.a.createElement("option",{value:"M1"},"M1"),r.a.createElement("option",{value:"M2"},"M2"),r.a.createElement("option",{value:"M3"},"M3"),r.a.createElement("option",{value:"M4"},"M4"),r.a.createElement("option",{value:"M5"},"M5"),r.a.createElement("option",{value:"M6"},"M6"),r.a.createElement("option",{value:"M7"},"M7"))),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:Yt()("",{invalid:e.password})}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("span",{className:"red-text"},e.password)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:Yt()("",{invalid:e.password2})}),r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("span",{className:"red-text"},e.password2)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.number,error:e.number,id:"number",type:"number",className:Yt()("",{invalid:e.number})}),r.a.createElement("label",{htmlFor:"number"},"Number (923...)"),r.a.createElement("span",{className:"red-text"},e.number)),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Sign up"))))))}}]),a}(n.Component),Jt=Object(d.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){b.a.post("/users/register",e).then((function(e){return t.push("/login")})).catch((function(e){return a({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(m.g)(Wt)),Zt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.auth.user;return r.a.createElement("div",{style:{height:"75vh"},className:"container valign-wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement("h4",null,r.a.createElement("b",null,"Hey there,")," ",e.name,r.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"You are logged into a full-stack"," ",r.a.createElement("span",{style:{fontFamily:"monospace"}},"MERN")," app \ud83d\udc4f")),r.a.createElement("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.onLogoutClick,className:"btn btn-large waves-effect waves-light hoverable blue accent-3"},"Logout"))))}}]),a}(n.Component),Qt=Object(d.b)((function(e){return{auth:e.auth}}),{logoutUser:N})(Zt),Xt=Object(d.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(B.a)(e,["component","auth"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/login"})}}))}));if(console.log(localStorage),localStorage.jwtToken){var $t=localStorage.jwtToken;v($t);var ea=E()($t);q.dispatch(g(ea));var ta=Date.now()/1e3;ea.exp<ta&&(q.dispatch(N()),window.location.href="./login")}var aa=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).unsubscribeFromAuth=null,e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(m.d,null,r.a.createElement("div",null,r.a.createElement(It,null),r.a.createElement(m.b,{exact:!0,path:"/",component:K}),r.a.createElement(m.b,{exact:!0,path:"/checkout",component:Ct}),r.a.createElement(m.b,{exact:!0,path:"/restaurant",component:te}),r.a.createElement(m.b,{exact:!0,path:"/analytics",component:ie}),r.a.createElement(m.b,{exact:!0,path:"/orders",component:se}),r.a.createElement(m.b,{exact:!0,path:"/menu-update",component:Re}),r.a.createElement(m.b,{exact:!0,path:"/feedback",component:xt}),r.a.createElement(m.b,{exact:!0,path:"/userfeedback",component:Ft}),r.a.createElement(m.b,{path:"/shop",component:je}),r.a.createElement(m.b,{path:"/signin",component:Le}),r.a.createElement(m.b,{path:"/add-menu",component:Gt}),r.a.createElement(m.b,{path:"/auth",component:qt}),r.a.createElement(m.b,{path:"/login",component:Kt}),r.a.createElement(m.b,{path:"/register",component:Jt}),r.a.createElement(m.d,null,r.a.createElement(Xt,{exact:!0,path:"/dashboard",component:Qt}))))}}]),a}(r.a.Component),na=Object(p.b)({currentUser:St}),ra=Object(d.b)(na,(function(e){return{setCurrentUser:function(t){return e(g(t))}}}))(aa);c.a.render(r.a.createElement(d.a,{store:q},r.a.createElement(ne.a,null,r.a.createElement(ra,null))),document.getElementById("root"))}]),[[67,1,2]]]);
//# sourceMappingURL=main.12363634.chunk.js.map