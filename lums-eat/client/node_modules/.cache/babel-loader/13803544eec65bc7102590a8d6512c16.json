{"ast":null,"code":"import _objectWithoutProperties from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import MenuItem from'../menu-item/menu-item.component';import{logoutUser}from\"../../redux/actions/authActions\";import'./directory.styles.scss';var Directory=/*#__PURE__*/function(_Component){_inherits(Directory,_Component);var _super=_createSuper(Directory);function Directory(){var _this;_classCallCheck(this,Directory);_this=_super.call(this);_this.onLogoutClick=function(e){e.preventDefault();_this.props.logoutUser();};_this.onLogoutClick=function(e){e.preventDefault();_this.props.logoutUser();};_this.state={sections:[],search:''};return _this;}_createClass(Directory,[{key:\"updateSearch\",value:function updateSearch(event){this.setState({search:event.target.value});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/restaurants').then(function(res){return res.json();}).then(function(sections){return _this2.setState({sections:sections});});}},{key:\"render\",value:function render(){var _this3=this;var user=this.props.auth.user;var filteredRestaurants=this.state.sections.filter(function(MenuItem){return MenuItem.name.toUpperCase().indexOf(_this3.state.search.toUpperCase())!==-1;});return/*#__PURE__*/React.createElement(\"div\",{className:\"directory-menu\"},user.name?/*#__PURE__*/React.createElement(\"b\",null,\"Hey there, \",user.name):/*#__PURE__*/React.createElement(\"b\",null,\"Hey there!\"),/*#__PURE__*/React.createElement(\"div\",{className:\"search\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"search\",placeholder:\"search...\",value:this.state.search,onChange:this.updateSearch.bind(this)})),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"directory-menu\"},filteredRestaurants.map(function(_ref){var id=_ref.id,otherSectionProps=_objectWithoutProperties(_ref,[\"id\"]);return/*#__PURE__*/React.createElement(MenuItem,Object.assign({key:id},otherSectionProps));})));}}]);return Directory;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{logoutUser:logoutUser})(Directory);","map":{"version":3,"sources":["/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/src/components/directory/directory.component.jsx"],"names":["React","Component","connect","MenuItem","logoutUser","Directory","onLogoutClick","e","preventDefault","props","state","sections","search","event","setState","target","value","fetch","then","res","json","user","auth","filteredRestaurants","filter","name","toUpperCase","indexOf","updateSearch","bind","map","id","otherSectionProps","mapStateToProps"],"mappings":"40BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kCAArB,CACA,OAASC,UAAT,KAA2B,iCAA3B,CAEA,MAAO,yBAAP,C,GAEMC,CAAAA,S,sGAMJ,oBAAc,2CACZ,wBADY,MALdC,aAKc,CALE,SAAAC,CAAC,CAAI,CACnBA,CAAC,CAACC,cAAF,GACA,MAAKC,KAAL,CAAWL,UAAX,GACD,CAEa,OAkBdE,aAlBc,CAkBE,SAAAC,CAAC,CAAI,CACnBA,CAAC,CAACC,cAAF,GACA,MAAKC,KAAL,CAAWL,UAAX,GACD,CArBa,CAEV,MAAKM,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,MAAM,CAAE,EAFG,CAAb,CAFU,aAMb,C,wEAEYC,K,CAAO,CAClB,KAAKC,QAAL,CAAc,CAACF,MAAM,CAAEC,KAAK,CAACE,MAAN,CAAaC,KAAtB,CAAd,EACD,C,6DAEkB,iBACjBC,KAAK,CAAC,cAAD,CAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAGA,CAAAA,GAAG,CAACC,IAAJ,EAAH,EADT,EAECF,IAFD,CAEM,SAAAP,QAAQ,QAAI,CAAA,MAAI,CAACG,QAAL,CAAc,CAACH,QAAQ,CAARA,QAAD,CAAd,CAAJ,EAFd,EAGD,C,uCAOQ,oBACCU,CAAAA,IADD,CACU,KAAKZ,KAAL,CAAWa,IADrB,CACCD,IADD,CAEP,GAAIE,CAAAA,mBAAmB,CAAG,KAAKb,KAAL,CAAWC,QAAX,CAAoBa,MAApB,CACxB,SAACrB,QAAD,CAAc,CACZ,MAAOA,CAAAA,QAAQ,CAACsB,IAAT,CAAcC,WAAd,GAA4BC,OAA5B,CAAoC,MAAI,CAACjB,KAAL,CAAWE,MAAX,CAAkBc,WAAlB,EAApC,IAAyE,CAAC,CAAjF,CACD,CAHuB,CAA1B,CAKA,mBACE,2BAAK,SAAS,CAAC,gBAAf,EACGL,IAAI,CAACI,IAAL,cACC,2CAAeJ,IAAI,CAACI,IAApB,CADD,cAGC,0CAJJ,cAME,2BAAK,SAAS,CAAC,QAAf,eACE,6BAAO,IAAI,CAAG,MAAd,CACI,SAAS,CAAG,QADhB,CAEI,WAAW,CAAG,WAFlB,CAGI,KAAK,CAAG,KAAKf,KAAL,CAAWE,MAHvB,CAII,QAAQ,CAAI,KAAKgB,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAJhB,EADF,CANF,cAaE,8BAbF,cAcE,2BAAK,SAAS,CAAC,gBAAf,EACGN,mBAAmB,CAACO,GAApB,CAAwB,kBAAGC,CAAAA,EAAH,MAAGA,EAAH,CAAUC,iBAAV,0DACvB,oBAAC,QAAD,gBAAU,GAAG,CAAED,EAAf,EAAuBC,iBAAvB,EADuB,EAAxB,CADH,CAdF,CADF,CAsBD,C,uBA1DqB/B,S,EAiExB,GAAMgC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAvB,KAAK,QAAK,CAChCY,IAAI,CAAEZ,KAAK,CAACY,IADoB,CAAL,EAA7B,CAIA,cAAepB,CAAAA,OAAO,CACpB+B,eADoB,CAEpB,CAAE7B,UAAU,CAAVA,UAAF,CAFoB,CAAP,CAGbC,SAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport MenuItem from '../menu-item/menu-item.component';\nimport { logoutUser } from \"../../redux/actions/authActions\";\n\nimport './directory.styles.scss';\n\nclass Directory extends Component {  \n  onLogoutClick = e => {\n    e.preventDefault();\n    this.props.logoutUser();\n  };\n\n  constructor() {\n    super();\n      this.state = {\n        sections: [],\n        search: ''\n      }\n  }\n\n  updateSearch(event) {\n    this.setState({search: event.target.value})\n  }\n\n  componentDidMount(){\n    fetch('/restaurants')\n    .then(res=> res.json())\n    .then(sections => this.setState({sections}))\n  }\n\n  onLogoutClick = e => {\n    e.preventDefault();\n    this.props.logoutUser();\n  };\n\n  render() {\n    const { user } = this.props.auth;\n    let filteredRestaurants = this.state.sections.filter(\n      (MenuItem) => {\n        return MenuItem.name.toUpperCase().indexOf(this.state.search.toUpperCase()) !== -1;\n      }\n    )\n    return (\n      <div className='directory-menu'>\n        {user.name ? (\n          <b>Hey there, {user.name}</b>\n        ) : (\n          <b>Hey there!</b>\n        )}\n        <div className='search'>\n          <input type = \"text\"\n              className = 'search'\n              placeholder = \"search...\"\n              value ={this.state.search} \n              onChange = {this.updateSearch.bind(this)}/>\n        </div>\n        <hr/>\n        <div className='directory-menu'>\n          {filteredRestaurants.map(({ id, ...otherSectionProps }) => (\n            <MenuItem key={id} {...otherSectionProps} />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nDirectory.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(\n  mapStateToProps,\n  { logoutUser }\n)(Directory);\n"]},"metadata":{},"sourceType":"module"}