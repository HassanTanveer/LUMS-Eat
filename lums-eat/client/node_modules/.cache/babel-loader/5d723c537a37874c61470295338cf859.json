{"ast":null,"code":"var _jsxFileName = \"/Users/mzaintariq/Documents/GitHub/LUMS-Eat/lums-eat/client/src/App.js\";\nimport React from 'react'; // import { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport { Switch, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./redux/utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./redux/actions/authActions\";\nimport store from './redux/store.js';\nimport './App.css';\nimport HomePage from './pages/homepage/homepage.component';\nimport RestaurantPage from './pages/restaurantpage/restaurantpage.component';\nimport OrdersPage from './pages/orderspage/orderspage.component';\nimport AnalyticsPage from './pages/analyticspage/analyticspage.component';\nimport TotalAnalyticsPage from './pages/totalanalyticspage/totalanalyticspage.component';\nimport MonthAnalyticsPage from './pages/monthanalyticspage/monthanalyticspage.component';\nimport ShopPage from './pages/shop/shop.component';\nimport MenuUpdate from './pages/menu-update/menu-update.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport Header from './components/header/header.component';\nimport CheckoutPage from './pages/checkout/checkout.component.jsx';\nimport { selectCurrentUser } from './redux/user/user.selectors';\nimport FeedbacksPage from './pages/feedbackpage/feedbackpage.component';\nimport UserFeedback from './pages/userfeedback/userfeedback.component';\nimport AddMenu from './pages/add-menu/add-menu.component';\nimport Authentication from './pages/authentication/authentication.component';\nimport Login from './pages/login/Login';\nimport Register from './pages/register/Register';\nimport Dashboard from './pages/Dashboard/Dashboard';\nimport PrivateRoute from \"./components/private-route/PrivateRoute\";\nconsole.log(localStorage); // Check for token to keep user logged in\n\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token); // Decode token and get user info and exp\n\n  const decoded = jwt_decode(token); // Set user and isAuthenticated\n  //store.dispatch(setCurrentUser(decoded));\n  // Check for expired token\n\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n\n  if (decoded.exp < currentTime) {\n    // Logout user\n    //store.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"./login\";\n  }\n}\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.unsubscribeFromAuth = null;\n  }\n\n  // componentDidMount() {  \n  // }\n  // componentWillUnmount() {\n  //   this.unsubscribeFromAuth();\n  // }\n  render() {\n    return /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: HomePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/checkout\",\n      component: CheckoutPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/restaurant\",\n      component: RestaurantPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/analytics\",\n      component: AnalyticsPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/analytics/total\",\n      component: TotalAnalyticsPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/analytics/month\",\n      component: MonthAnalyticsPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/orders\",\n      component: OrdersPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/menu-update\",\n      component: MenuUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/feedback\",\n      component: FeedbacksPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/userfeedback\",\n      component: UserFeedback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/shop\",\n      component: ShopPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signin\",\n      component: SignInAndSignUpPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/add-menu\",\n      component: AddMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/auth\",\n      component: Authentication,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      component: Login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      component: Register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/dashboard\",\n      component: Dashboard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/mzaintariq/Documents/GitHub/LUMS-Eat/lums-eat/client/src/App.js"],"names":["React","Switch","Route","connect","createStructuredSelector","jwt_decode","setAuthToken","setCurrentUser","logoutUser","store","HomePage","RestaurantPage","OrdersPage","AnalyticsPage","TotalAnalyticsPage","MonthAnalyticsPage","ShopPage","MenuUpdate","SignInAndSignUpPage","Header","CheckoutPage","selectCurrentUser","FeedbacksPage","UserFeedback","AddMenu","Authentication","Login","Register","Dashboard","PrivateRoute","console","log","localStorage","jwtToken","token","decoded","currentTime","Date","now","exp","window","location","href","App","Component","unsubscribeFromAuth","render","mapStateToProps","currentUser","mapDispatchToProps","dispatch","user"],"mappings":"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","sourcesContent":["import React from 'react';\n// import { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { Switch, Route} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {createStructuredSelector} from 'reselect';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./redux/utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./redux/actions/authActions\";\nimport store from './redux/store.js';\n\nimport './App.css';\n\nimport HomePage from './pages/homepage/homepage.component';\nimport RestaurantPage from './pages/restaurantpage/restaurantpage.component';\nimport OrdersPage from './pages/orderspage/orderspage.component';\nimport AnalyticsPage from './pages/analyticspage/analyticspage.component';\nimport TotalAnalyticsPage from './pages/totalanalyticspage/totalanalyticspage.component';\nimport MonthAnalyticsPage from './pages/monthanalyticspage/monthanalyticspage.component';\nimport ShopPage from './pages/shop/shop.component';\nimport MenuUpdate from './pages/menu-update/menu-update.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport Header from './components/header/header.component';\nimport CheckoutPage from './pages/checkout/checkout.component.jsx';\nimport {selectCurrentUser} from './redux/user/user.selectors';\nimport FeedbacksPage from './pages/feedbackpage/feedbackpage.component';\nimport UserFeedback from './pages/userfeedback/userfeedback.component';\nimport AddMenu from './pages/add-menu/add-menu.component';\nimport Authentication from './pages/authentication/authentication.component';\nimport Login from './pages/login/Login';\nimport Register from './pages/register/Register';\nimport Dashboard from './pages/Dashboard/Dashboard';\nimport PrivateRoute from \"./components/private-route/PrivateRoute\";\n\nconsole.log(localStorage)\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(token);\n  // Set user and isAuthenticated\n  //store.dispatch(setCurrentUser(decoded));\n// Check for expired token\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    // Logout user\n    //store.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"./login\";\n  }\n}\n\nclass App extends React.Component {\n  unsubscribeFromAuth = null;\n\n  // componentDidMount() {  \n\n  // }\n\n  // componentWillUnmount() {\n  //   this.unsubscribeFromAuth();\n  // }\n\n  render() {\n    return (\n      <Switch>\n      <div>\n          <Header/>\n          <Route exact path='/' component={HomePage} />\n          <Route exact path = '/checkout' component={CheckoutPage} />\n          <Route exact path = '/restaurant' component={RestaurantPage} />\n          <Route exact path = '/analytics' component={AnalyticsPage} />\n          <Route exact path = '/analytics/total' component={TotalAnalyticsPage} />\n          <Route exact path = '/analytics/month' component={MonthAnalyticsPage} />\n          <Route exact path = '/orders' component={OrdersPage} />\n          <Route exact path = '/menu-update' component={MenuUpdate} />\n          <Route exact path = '/feedback' component={FeedbacksPage} />\n          <Route exact path = '/userfeedback' component={UserFeedback} />\n          <Route path='/shop' component={ShopPage} />\n          <Route path='/signin' component={SignInAndSignUpPage} />\n          <Route path='/add-menu' component={AddMenu} />\n          <Route path='/auth' component={Authentication} />\n          <Route path='/login' component={Login} />\n          <Route path='/register' component={Register} />\n          <Switch>\n              <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n          </Switch>\n      </div>\n      </Switch>\n    );\n  }\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);"]},"metadata":{},"sourceType":"module"}