{"ast":null,"code":"import _classCallCheck from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Modal from'react-bootstrap/Modal';import'./userfeedbackpage.styles.scss';// import { Link } from 'react-router-dom';\nimport{connect}from\"react-redux\";import{logoutUser}from\"../../redux/actions/authActions\";var axios=require('axios');var UserFeedbackPage=/*#__PURE__*/function(_React$Component){_inherits(UserFeedbackPage,_React$Component);var _super=_createSuper(UserFeedbackPage);function UserFeedbackPage(){var _this;_classCallCheck(this,UserFeedbackPage);_this=_super.call(this);_this.handleSubmit=function(text){return function(event){event.preventDefault();var details={\"UserID\":text,\"ItemID\":_this.state.ItemID,\"OrderID\":_this.state.OrderID,\"RestaurantID\":_this.state.RestaurantID,\"Feedback\":_this.state.Feedback};axios.post('/feedback/add',details).then(function(res){return _this.setState({text2:'Feedback has been sent to restaurant!'});},_this.setState({popupshow:true})).catch(function(err){return _this.setState({text:'Error'});},_this.setState({text2:'Could not send feedback!'}),_this.setState({popupshow:true}));};};_this.refresh=function(event){window.location.reload();};_this.state={UserID:'',ItemID:'',OrderID:'',RestaurantID:'',Feedback:'',popupshow:false,text:'Feedback Sent!',text2:'Feedback has been sent to restaurant!'};return _this;}_createClass(UserFeedbackPage,[{key:\"updateUserID\",value:function updateUserID(event){this.setState({UserID:event.target.value});}},{key:\"updateItemID\",value:function updateItemID(event){this.setState({ItemID:event.target.value});}},{key:\"updateOrderID\",value:function updateOrderID(event){this.setState({OrderID:event.target.value});}},{key:\"updateRestaurantID\",value:function updateRestaurantID(event){this.setState({RestaurantID:event.target.value});}},{key:\"updateFeedback\",value:function updateFeedback(event){this.setState({Feedback:event.target.value});}},{key:\"renderIcon\",value:function renderIcon(){this.setState({UserID:'CHECK'});return/*#__PURE__*/React.createElement(\"div\",null,\"Function called\");}},{key:\"render\",value:function render(){var _this2=this;var user=this.props.auth.user;return/*#__PURE__*/React.createElement(\"div\",{className:\"check\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Submit Feedback\"),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit(user.name.toString())},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"ItemID\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Item ID\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"name\",className:\"itemid\",placeholder:\"Enter item ID\",required:true,value:this.state.ItemID,onChange:this.updateItemID.bind(this)})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"OrderID\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Order ID\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"name\",className:\"orderid\",placeholder:\"Enter order ID\",required:true,value:this.state.OrderID,onChange:this.updateOrderID.bind(this)})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"RestaurantID\"},/*#__PURE__*/React.createElement(Form.Label,null,\"RestaurantID\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"name\",placeholder:\"Enter Restaurant ID\",required:true,value:this.state.RestaurantID,onChange:this.updateRestaurantID.bind(this)})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"Feedback\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Feedback\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"name\",placeholder:\"Enter Feedback\",required:true,value:this.state.Feedback,onChange:this.updateFeedback.bind(this)})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\",block:true},\"Submit\"),/*#__PURE__*/React.createElement(Modal,{show:this.state.popupshow},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true,onClick:function onClick(){return _this2.setState({popupshow:false});}},/*#__PURE__*/React.createElement(Modal.Title,null,\" \",this.state.text,\" \")),/*#__PURE__*/React.createElement(Modal.Body,null,\" \",this.state.text2,\" \"),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:this.refresh},\"Ok\")))));}}]);return UserFeedbackPage;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{logoutUser:logoutUser})(UserFeedbackPage);// export default UserFeedbackPage;","map":{"version":3,"sources":["/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/src/components/userfeedbackpage/userfeedbackpage.component.jsx"],"names":["React","Form","Button","Modal","connect","logoutUser","axios","require","UserFeedbackPage","handleSubmit","text","event","preventDefault","details","state","ItemID","OrderID","RestaurantID","Feedback","post","then","res","setState","text2","popupshow","catch","err","refresh","window","location","reload","UserID","target","value","user","props","auth","name","toString","updateItemID","bind","updateOrderID","updateRestaurantID","updateFeedback","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Modal from 'react-bootstrap/Modal'\nimport './userfeedbackpage.styles.scss';\n\nimport PropTypes from \"prop-types\";\n// import { Link } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../redux/actions/authActions\";\n\nconst axios = require('axios')\n\nclass UserFeedbackPage extends React.Component {\n  constructor() {\n    super();\n    \n      this.state={\n        UserID: '',\n        ItemID: '',\n        OrderID: '',\n        RestaurantID: '',\n        Feedback: '',\n\n        popupshow: false,\n        text: 'Feedback Sent!',\n        text2: 'Feedback has been sent to restaurant!'\n      }  \n  }\n\n  updateUserID(event) {\n    this.setState({UserID: event.target.value})\n  }\n\n  updateItemID(event) {\n    this.setState({ItemID: event.target.value})\n  }\n\n  updateOrderID(event) {\n    this.setState({OrderID: event.target.value})\n  }\n\n  updateRestaurantID(event) {\n    this.setState({RestaurantID: event.target.value})\n  }\n\n  updateFeedback(event) {\n    this.setState({Feedback: event.target.value})\n  }\n\n  handleSubmit = (text) => (event) => {\n    event.preventDefault();\n    let details = {\n      \"UserID\": text,\n      \"ItemID\": this.state.ItemID,\n\t    \"OrderID\": this.state.OrderID,\n\t    \"RestaurantID\": this.state.RestaurantID,\n\t    \"Feedback\": this.state.Feedback\n      }\n    axios.post('/feedback/add', details)\n      .then((res) => this.setState({text2: 'Feedback has been sent to restaurant!'}), this.setState({popupshow: true}))\n      .catch(err => this.setState({text: 'Error'}), this.setState({text2: 'Could not send feedback!'}), this.setState({popupshow: true}))\n  }\n\n  refresh = (event) => {\n    window.location.reload();\n  }\n\n  renderIcon(){\n    this.setState({UserID: 'CHECK'})\n    return(\n      <div>Function called</div>\n    )\n  }\n\n  render() {\n    const { user } = this.props.auth;\n    return (\n      <div className = 'check'>\n        <h1>Submit Feedback</h1>\n        {/* {user.name ? (\n          <b>Hey there, {user.name}, {user.id}</b>\n        ) : (\n          <b>Hey there!</b>\n        )}\n        <h1>Provide Feedback</h1> */}\n        \n        <Form onSubmit = {this.handleSubmit(user.name.toString())}>\n          {/* <Form.Group controlId=\"UserID\">\n                <Form.Label>User ID</Form.Label>\n                <Form.Control type=\"name\"\n                              className = 'userid'\n                              placeholder=\"Enter user ID\"\n                              required\n                              // value = {this.state.UserID}\n                              value = {user.name}\n                              onChange = {this.updateUserID.bind(this)} \n                              />\n            </Form.Group> */}\n\n            <Form.Group controlId=\"ItemID\">\n                <Form.Label>Item ID</Form.Label>\n                <Form.Control type=\"name\"\n                              className = 'itemid'\n                              placeholder=\"Enter item ID\"\n                              required\n                              value = {this.state.ItemID}\n                              onChange = {this.updateItemID.bind(this)} />\n            </Form.Group>\n\n            <Form.Group controlId=\"OrderID\">\n                <Form.Label>Order ID</Form.Label>\n                <Form.Control type=\"name\"\n                              className = 'orderid'\n                              placeholder=\"Enter order ID\"\n                              required\n                              value = {this.state.OrderID}\n                              onChange = {this.updateOrderID.bind(this)} />\n            </Form.Group>\n\n            {/* <Form.Group controlId=\"Price\">\n                <Form.Label>Price</Form.Label>\n                <Form.Control type=\"number\"\n                              placeholder=\"Enter price in pkr\"\n                              required\n                              value ={this.state.price}\n                              onChange = {this.updatePrice.bind(this)} />\n            </Form.Group> */}\n\n            <Form.Group controlId=\"RestaurantID\">\n                <Form.Label>RestaurantID</Form.Label>\n                <Form.Control type=\"name\"\n                              placeholder=\"Enter Restaurant ID\"\n                              required\n                              value ={this.state.RestaurantID}\n                              onChange = {this.updateRestaurantID.bind(this)} />\n            </Form.Group>\n\n            <Form.Group controlId=\"Feedback\">\n                <Form.Label>Feedback</Form.Label>\n                <Form.Control type=\"name\"\n                              placeholder=\"Enter Feedback\"\n                              required\n                              value ={this.state.Feedback}\n                              onChange = {this.updateFeedback.bind(this)} />\n            </Form.Group>\n\n            <Button variant=\"primary\" type=\"submit\" block>\n                Submit\n            </Button>\n\n            <Modal show={this.state.popupshow}>\n              <Modal.Header closeButton onClick={()=> this.setState({popupshow: false})}>\n                <Modal.Title> {this.state.text} </Modal.Title>\n              </Modal.Header>\n              <Modal.Body> {this.state.text2} </Modal.Body>\n              <Modal.Footer>\n                <Button variant=\"primary\" onClick={this.refresh}>\n                  Ok\n                </Button>\n              </Modal.Footer>\n            </Modal>\n        </Form>\n      </div>\n    );\n  }\n}\n\nUserFeedbackPage.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(\n  mapStateToProps,\n  { logoutUser }\n)(UserFeedbackPage);\n\n// export default UserFeedbackPage;"]},"metadata":{},"sourceType":"module"}