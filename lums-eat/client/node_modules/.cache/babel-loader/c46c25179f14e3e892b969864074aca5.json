{"ast":null,"code":"var _jsxFileName = \"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/src/components/orderview/orderview.component.jsx\";\nimport React from 'react';\nimport OrderItem from '../order-item/order-item.component';\nimport NewOrderItem from '../new-order-item/new-order-item.component';\nimport Table from 'react-bootstrap/Table';\nimport { logoutUser } from \"../../redux/actions/authActions\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport './orderview.styles.scss';\n\nclass OrderView extends React.Component {\n  constructor() {\n    super();\n\n    this.onLogoutClick = e => {\n      e.preventDefault();\n      this.props.logoutUser();\n    };\n\n    this.state = {\n      sections: [],\n      newsections: [],\n      complete: []\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.isRest) {\n      this.props.history.push('/login');\n    } else {\n      this.props.history.push(\"/login\");\n    }\n\n    fetch(`/orders/all/${localStorage.RestaurantID}`).then(res => res.json()).then(sections => this.setState({\n      sections\n    }));\n    fetch(`/orders/new/${localStorage.RestaurantID}`).then(res => res.json()).then(newsections => this.setState({\n      newsections\n    }));\n    fetch(`/orders/complete/${localStorage.RestaurantID}`).then(res => res.json()).then(complete => this.setState({\n      complete\n    }));\n  }\n\n  render() {\n    console.log(window.location);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"script\", {\n      type: \"text/javascript\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, setTimeout(function () {\n      if (window.location.href === `${window.location.origin}/restaurant`) {\n        window.location.reload();\n      }\n    }, 10000)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"restaurant-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, \"New Orders\"), /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"Order number\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Items\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \"Total Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"Order Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, \"User Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, \"User Contact\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, \"User Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, this.state.newsections.map(({\n      id,\n      ...otherSectionProps\n    }) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(NewOrderItem, Object.assign({\n      key: id\n    }, otherSectionProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"restaurant-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, \"Orders \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 20\n      }\n    }, this.state.sections.length)), /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, \"Order number\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"Items\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, \"Total Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, \"Order Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, \"User Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"User Contact\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, \"User Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, this.state.sections.map(({\n      id,\n      ...otherSectionProps\n    }) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(OrderItem, Object.assign({\n      key: id\n    }, otherSectionProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"restaurant-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, \"Completed Orders \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 30\n      }\n    }, this.state.complete.length)), /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \"Order number\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"Items\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, \"Total Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, \"Order Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, \"User Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, \"User Contact\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, \"User Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, this.state.complete.map(({\n      id,\n      ...otherSectionProps\n    }) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(OrderItem, Object.assign({\n      key: id\n    }, otherSectionProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }))))))));\n  }\n\n}\n\nOrderView.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  logoutUser\n})(OrderView);","map":{"version":3,"sources":["/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/src/components/orderview/orderview.component.jsx"],"names":["React","OrderItem","NewOrderItem","Table","logoutUser","PropTypes","connect","OrderView","Component","constructor","onLogoutClick","e","preventDefault","props","state","sections","newsections","complete","componentDidMount","localStorage","isRest","history","push","fetch","RestaurantID","then","res","json","setState","render","console","log","window","location","setTimeout","href","origin","reload","map","id","otherSectionProps","length","propTypes","func","isRequired","auth","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport OrderItem from '../order-item/order-item.component';\nimport NewOrderItem from '../new-order-item/new-order-item.component';\nimport Table from 'react-bootstrap/Table';\nimport { logoutUser } from \"../../redux/actions/authActions\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport './orderview.styles.scss';\n\nclass OrderView extends React.Component {\n  constructor() {\n    super();\n\n      this.state={\n      sections: [],\n      newsections: [],\n      complete: []\n      }\n    \n  }\n\n  componentDidMount(){\n\n    if(!localStorage.isRest){\n      this.props.history.push('/login');}\n      else {\n      this.props.history.push(\"/login\");\n    }\n\n    fetch(`/orders/all/${localStorage.RestaurantID}`)\n    .then(res=> res.json())\n    .then(sections => this.setState({sections}))\n\n    fetch(`/orders/new/${localStorage.RestaurantID}`)\n    .then(res=> res.json())\n    .then(newsections => this.setState({newsections}))\n\n    fetch(`/orders/complete/${localStorage.RestaurantID}`)\n    .then(res=> res.json())\n    .then(complete => this.setState({complete}))\n  }\n\n  onLogoutClick = e => {\n      e.preventDefault();\n      this.props.logoutUser();\n  };\n\n  render() {\n    console.log(window.location)\n    return (\n      <div>\n        <script type=\"text/javascript\">\n            {setTimeout(function () { \n              if(window.location.href === `${window.location.origin}/restaurant`){\n                window.location.reload();\n              }\n            }, 10000)}\n        </script>\n        <div className='restaurant-menu'>\n          <div className=\"top\">\n            New Orders\n          </div>\n          <Table responsive>\n            <thead>\n              <tr className = 'font'>\n                <th>Order number</th>\n                <th>Items</th>\n                <th>Total Price</th>\n                <th>Order Type</th>\n                <th>User Name</th>\n                <th>User Contact</th>\n                <th>User Address</th>\n                <th>Status</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.newsections.map(({ id, ...otherSectionProps }) => (\n                <tr>\n                <NewOrderItem key={id} {...otherSectionProps} />\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n\n        <div className='restaurant-menu'>\n          <div className=\"top\">\n            Orders <span className=\"number\">{this.state.sections.length}</span> \n          </div>\n          <Table responsive>\n            <thead>\n              <tr className = 'font'>\n                <th>Order number</th>\n                <th>Items</th>\n                <th>Total Price</th>\n                <th>Order Type</th>\n                <th>User Name</th>\n                <th>User Contact</th>\n                <th>User Address</th>\n                <th>Status</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.sections.map(({ id, ...otherSectionProps }) => (\n                <tr>\n                <OrderItem key={id} {...otherSectionProps} />\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n\n        <div className='restaurant-menu'>\n          <div className=\"top\">\n            Completed Orders <span className=\"number\">{this.state.complete.length}</span> \n          </div>\n          <Table responsive>\n            <thead>\n              <tr className = 'font'>\n                <th>Order number</th>\n                <th>Items</th>\n                <th>Total Price</th>\n                <th>Order Type</th>\n                <th>User Name</th>\n                <th>User Contact</th>\n                <th>User Address</th>\n                <th>Status</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.complete.map(({ id, ...otherSectionProps }) => (\n                <tr>\n                <OrderItem key={id} {...otherSectionProps} />\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nOrderView.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\nexport default connect(\n  mapStateToProps,\n  { logoutUser }\n)(OrderView);"]},"metadata":{},"sourceType":"module"}