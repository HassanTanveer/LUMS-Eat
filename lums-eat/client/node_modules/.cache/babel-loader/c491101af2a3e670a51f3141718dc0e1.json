{"ast":null,"code":"var _jsxFileName = \"/Users/mzaintariq/Documents/GitHub/LUMS-Eat/lums-eat/client/src/components/orderpage/orderpage.component.jsx\";\nimport React from 'react';\nimport PropTypes from \"prop-types\"; // import { Link } from 'react-router-dom';\n\nimport OrderTable from '../ordertable/ordertable.component';\nimport CompleteOrderTable from '../completeordertable/completeordertable.component'; // import NewOrderItem from '../new-order-item/new-order-item.component';\n\nimport Table from 'react-bootstrap/Table';\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../redux/actions/authActions\";\nimport './orderpage.styles.scss';\n\nclass OrderPage extends React.Component {\n  constructor() {\n    super();\n\n    this.CHECK = () => {\n      let total = 0;\n\n      for (let i = 0; i < this.state.sections.length; i++) {\n        var order = this.state.sections[i];\n        total = total + order.totalPrice;\n      }\n\n      return total;\n    };\n\n    this.state = {\n      sections: [],\n      active: [],\n      unconfirmed: [],\n      complete: []\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.userID) {\n      fetch(`/users/neworders/${localStorage.userID}`).then(res => res.json()).then(unconfirmed => this.setState({\n        unconfirmed\n      }));\n      console.log(this.state.unconfirmed);\n      fetch(`/users/pendingorders/${localStorage.userID}`).then(res => res.json()).then(active => this.setState({\n        active\n      }));\n      console.log(this.state.active);\n      fetch(`/users/completedorders/${localStorage.userID}`).then(res => res.json()).then(complete => this.setState({\n        complete\n      }));\n      fetch(`/feedback/all`).then(res => res.json()).then(sections => this.setState({\n        sections\n      })); // console.log(sections)\n    }\n  }\n\n  render() {\n    const check1 = this.CHECK();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, this.state.sections.length, /*#__PURE__*/React.createElement(\"script\", {\n      type: \"text/javascript\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, setTimeout(function () {\n      if (window.location.href === `${window.location.origin}/orders`) {\n        window.location.reload();\n      }\n    }, 15000)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"restaurant-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, \"Pending Confirmation \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"new-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 34\n      }\n    }, this.state.unconfirmed.length)), /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, \"Order ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, \"Restaurant\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"Items\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, \"Total Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, \"Order Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, this.state.unconfirmed.map(({\n      id,\n      ...otherSectionProps\n    }) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(OrderTable, Object.assign({\n      key: id\n    }, otherSectionProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"restaurant-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, \"Active Orders \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"active-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 27\n      }\n    }, this.state.active.length)), /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 19\n      }\n    }, \"Order ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }, \"Restaurant\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }, \"Items\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, \"Total Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }, \"Order Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, this.state.active.map(({\n      id,\n      ...otherSectionProps\n    }) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(OrderTable, Object.assign({\n      key: id\n    }, otherSectionProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"restaurant-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, \"Completed Orders \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"completed-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 30\n      }\n    }, this.state.complete.length)), /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"font\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, \"Order ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, \"Restaurant\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, \"Items\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    }, \"Total Price\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, \"Order Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, \"Feedback\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, this.state.complete.map(({\n      id,\n      ...otherSectionProps\n    }) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CompleteOrderTable, Object.assign({\n      key: id\n    }, otherSectionProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }))))))));\n  }\n\n}\n\nOrderPage.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  logoutUser\n})(OrderPage); // export default OrderPage;","map":{"version":3,"sources":["/Users/mzaintariq/Documents/GitHub/LUMS-Eat/lums-eat/client/src/components/orderpage/orderpage.component.jsx"],"names":["React","PropTypes","OrderTable","CompleteOrderTable","Table","connect","logoutUser","OrderPage","Component","constructor","CHECK","total","i","state","sections","length","order","totalPrice","active","unconfirmed","complete","componentDidMount","localStorage","userID","fetch","then","res","json","setState","console","log","render","check1","setTimeout","window","location","href","origin","reload","map","id","otherSectionProps","propTypes","func","isRequired","auth","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from \"prop-types\";\n// import { Link } from 'react-router-dom';\n\nimport OrderTable from '../ordertable/ordertable.component';\nimport CompleteOrderTable from '../completeordertable/completeordertable.component';\n// import NewOrderItem from '../new-order-item/new-order-item.component';\nimport Table from 'react-bootstrap/Table';\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../../redux/actions/authActions\";\n\nimport './orderpage.styles.scss';\n\nclass OrderPage extends React.Component {\n  constructor() {\n    super();\n\n      this.state={\n        sections: [],\n        active: [],\n        unconfirmed: [],\n        complete: [],\n      } \n  }\n\n  componentDidMount(){\n    if(localStorage.userID){\n      fetch(`/users/neworders/${localStorage.userID}`)\n      .then(res=> res.json())\n      .then(unconfirmed => this.setState({unconfirmed}))\n\n      console.log(this.state.unconfirmed)\n  \n      fetch(`/users/pendingorders/${localStorage.userID}`)\n      .then(res=> res.json())\n      .then(active => this.setState({active}))\n\n      console.log(this.state.active)\n  \n      fetch(`/users/completedorders/${localStorage.userID}`)\n      .then(res=> res.json())\n      .then(complete => this.setState({complete}))\n\n      fetch(`/feedback/all`)\n      .then(res=> res.json())\n      .then(sections => this.setState({sections}))\n\n      // console.log(sections)\n    }\n  }\n\n  CHECK = () => {\n    let total = 0\n    for (let i = 0; i < this.state.sections.length; i++) {\n      var order = this.state.sections[i];\n      total = total + order.totalPrice;\n    }\n    return total\n  }\n\n  render() {\n    const check1 = this.CHECK();\n    return (\n      <div>\n        {this.state.sections.length}\n        <script type=\"text/javascript\">\n            {setTimeout(function () { \n              if(window.location.href === `${window.location.origin}/orders`){\n                window.location.reload();\n              }\n            }, 15000)}\n        </script>\n        <div className='restaurant-menu'>\n          <div className=\"top\">\n            Pending Confirmation <span className=\"new-number\">{this.state.unconfirmed.length}</span>\n          </div>\n          <Table responsive>\n            <thead>\n              <tr className = 'font'>\n                <th>Order ID</th>\n                <th>Restaurant</th>\n                <th>Items</th>\n                <th>Total Price</th>\n                <th>Order Type</th>\n                <th>Address</th>\n                <th>Status</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.unconfirmed.map(({ id, ...otherSectionProps }) => (\n                <tr>\n                <OrderTable key={id} {...otherSectionProps} />\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n\n        <div className='restaurant-menu'>\n          <div className=\"top\">\n            Active Orders <span className=\"active-number\">{this.state.active.length}</span> \n          </div>\n          <Table responsive>\n            <thead>\n                <tr className = 'font'>\n                  <th>Order ID</th>\n                  <th>Restaurant</th>\n                  <th>Items</th>\n                  <th>Total Price</th>\n                  <th>Order Type</th>\n                  <th>Address</th>\n                  <th>Status</th>\n                  <th></th>\n                </tr>\n            </thead>\n            <tbody>\n              {this.state.active.map(({ id, ...otherSectionProps }) => (\n                <tr>\n                <OrderTable key={id} {...otherSectionProps} />\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n\n        <div className='restaurant-menu'>\n          <div className=\"top\">\n            Completed Orders <span className=\"completed-number\">{this.state.complete.length}</span> \n          </div>\n          <Table responsive>\n            <thead>\n                <tr className = 'font'>\n                  <th>Order ID</th>\n                  <th>Restaurant</th>\n                  <th>Items</th>\n                  <th>Total Price</th>\n                  <th>Order Type</th>\n                  <th>Address</th>\n                  <th>Status</th>\n                  <th>Feedback</th>\n                </tr>\n            </thead>\n            <tbody>\n              {this.state.complete.map(({ id, ...otherSectionProps }) => (\n                <tr>\n                <CompleteOrderTable key={id} {...otherSectionProps} />\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nOrderPage.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(\n  mapStateToProps,\n  { logoutUser }\n)(OrderPage);\n\n// export default OrderPage;\n"]},"metadata":{},"sourceType":"module"}