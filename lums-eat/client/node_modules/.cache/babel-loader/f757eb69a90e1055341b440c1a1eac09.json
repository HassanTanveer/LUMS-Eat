{"ast":null,"code":"import _objectWithoutProperties from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import MenuItem from'../menu-item/menu-item.component';import{logoutUser}from\"../../redux/actions/authActions\";import Form from'react-bootstrap/Form';import'./directory.styles.scss';var Directory=/*#__PURE__*/function(_Component){_inherits(Directory,_Component);var _super=_createSuper(Directory);function Directory(){var _this;_classCallCheck(this,Directory);_this=_super.call(this);_this.onLogoutClick=function(e){e.preventDefault();_this.props.logoutUser();};_this.onLogoutClick=function(e){e.preventDefault();_this.props.logoutUser();};_this.state={sections:[],search:''};return _this;}_createClass(Directory,[{key:\"updateSearch\",value:function updateSearch(event){this.setState({search:event.target.value});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/restaurants').then(function(res){return res.json();}).then(function(sections){return _this2.setState({sections:sections});});}},{key:\"render\",value:function render(){var _this3=this;var user=this.props.auth.user;var filteredRestaurants=this.state.sections.filter(function(MenuItem){return MenuItem.name.toUpperCase().indexOf(_this3.state.search.toUpperCase())!==-1;});return/*#__PURE__*/React.createElement(\"div\",{className:\"directory-menu\"},user.name?/*#__PURE__*/React.createElement(\"b\",null,\"Hey there, \",user.name):/*#__PURE__*/React.createElement(\"b\",null,\"Hey there!\"),/*#__PURE__*/React.createElement(\"div\",{className:\"search\"},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Control,{type:\"name\",block:true// className = 'search'\n,placeholder:\"search...\",value:this.state.search,onChange:this.updateSearch.bind(this)}))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"directory-menu\"},filteredRestaurants.map(function(_ref){var _id=_ref._id,otherSectionProps=_objectWithoutProperties(_ref,[\"_id\"]);return/*#__PURE__*/React.createElement(MenuItem,Object.assign({key:_id},otherSectionProps));})));}}]);return Directory;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{logoutUser:logoutUser})(Directory);","map":{"version":3,"sources":["/home/hassan/Desktop/NEW/LUMS-Eat/lums-eat/client/src/components/directory/directory.component.jsx"],"names":["React","Component","connect","MenuItem","logoutUser","Form","Directory","onLogoutClick","e","preventDefault","props","state","sections","search","event","setState","target","value","fetch","then","res","json","user","auth","filteredRestaurants","filter","name","toUpperCase","indexOf","updateSearch","bind","map","_id","otherSectionProps","mapStateToProps"],"mappings":"40BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kCAArB,CACA,OAASC,UAAT,KAA2B,iCAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CAEA,MAAO,yBAAP,C,GAEMC,CAAAA,S,sGAMJ,oBAAc,2CACZ,wBADY,MALdC,aAKc,CALE,SAAAC,CAAC,CAAI,CACnBA,CAAC,CAACC,cAAF,GACA,MAAKC,KAAL,CAAWN,UAAX,GACD,CAEa,OAmBdG,aAnBc,CAmBE,SAAAC,CAAC,CAAI,CACnBA,CAAC,CAACC,cAAF,GACA,MAAKC,KAAL,CAAWN,UAAX,GACD,CAtBa,CAEV,MAAKO,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,MAAM,CAAE,EAFG,CAAb,CAFU,aAMb,C,wEAEYC,K,CAAO,CAClB,KAAKC,QAAL,CAAc,CAACF,MAAM,CAAEC,KAAK,CAACE,MAAN,CAAaC,KAAtB,CAAd,EACD,C,6DAEkB,iBACjBC,KAAK,CAAC,cAAD,CAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAGA,CAAAA,GAAG,CAACC,IAAJ,EAAH,EADT,EAECF,IAFD,CAEM,SAAAP,QAAQ,QAAI,CAAA,MAAI,CAACG,QAAL,CAAc,CAACH,QAAQ,CAARA,QAAD,CAAd,CAAJ,EAFd,EAID,C,uCAOQ,oBACCU,CAAAA,IADD,CACU,KAAKZ,KAAL,CAAWa,IADrB,CACCD,IADD,CAEP,GAAIE,CAAAA,mBAAmB,CAAG,KAAKb,KAAL,CAAWC,QAAX,CAAoBa,MAApB,CACxB,SAACtB,QAAD,CAAc,CACZ,MAAOA,CAAAA,QAAQ,CAACuB,IAAT,CAAcC,WAAd,GAA4BC,OAA5B,CAAoC,MAAI,CAACjB,KAAL,CAAWE,MAAX,CAAkBc,WAAlB,EAApC,IAAyE,CAAC,CAAjF,CACD,CAHuB,CAA1B,CAKA,mBACE,2BAAK,SAAS,CAAC,gBAAf,EACGL,IAAI,CAACI,IAAL,cACC,2CAAeJ,IAAI,CAACI,IAApB,CADD,cAGC,0CAJJ,cAME,2BAAK,SAAS,CAAC,QAAf,eAME,oBAAC,IAAD,mBACI,oBAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,MAAnB,CACc,KAAK,KACL;AAFd,CAGc,WAAW,CAAC,WAH1B,CAIc,KAAK,CAAG,KAAKf,KAAL,CAAWE,MAJjC,CAKc,QAAQ,CAAI,KAAKgB,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAL1B,EADJ,CANF,CANF,cAqBE,8BArBF,cAsBE,2BAAK,SAAS,CAAC,gBAAf,EACGN,mBAAmB,CAACO,GAApB,CAAwB,kBAAGC,CAAAA,GAAH,MAAGA,GAAH,CAAWC,iBAAX,2DAEvB,oBAAC,QAAD,gBAAU,GAAG,CAAED,GAAf,EAAwBC,iBAAxB,EAFuB,EAAxB,CADH,CAtBF,CADF,CA+BD,C,uBApEqBhC,S,EA2ExB,GAAMiC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAvB,KAAK,QAAK,CAChCY,IAAI,CAAEZ,KAAK,CAACY,IADoB,CAAL,EAA7B,CAIA,cAAerB,CAAAA,OAAO,CACpBgC,eADoB,CAEpB,CAAE9B,UAAU,CAAVA,UAAF,CAFoB,CAAP,CAGbE,SAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport MenuItem from '../menu-item/menu-item.component';\nimport { logoutUser } from \"../../redux/actions/authActions\";\nimport Form from 'react-bootstrap/Form';\n\nimport './directory.styles.scss';\n\nclass Directory extends Component {  \n  onLogoutClick = e => {\n    e.preventDefault();\n    this.props.logoutUser();\n  };\n\n  constructor() {\n    super();\n      this.state = {\n        sections: [],\n        search: ''\n      }\n  }\n\n  updateSearch(event) {\n    this.setState({search: event.target.value})\n  }\n\n  componentDidMount(){\n    fetch('/restaurants')\n    .then(res=> res.json())\n    .then(sections => this.setState({sections}))\n    \n  }\n\n  onLogoutClick = e => {\n    e.preventDefault();\n    this.props.logoutUser();\n  };\n\n  render() {\n    const { user } = this.props.auth;\n    let filteredRestaurants = this.state.sections.filter(\n      (MenuItem) => {\n        return MenuItem.name.toUpperCase().indexOf(this.state.search.toUpperCase()) !== -1;\n      }\n    )\n    return (\n      <div className='directory-menu'>\n        {user.name ? (\n          <b>Hey there, {user.name}</b>\n        ) : (\n          <b>Hey there!</b>\n        )}\n        <div className='search'>\n          {/* <input type = \"text\"\n              className = 'search'\n              placeholder = \"search...\"\n              value ={this.state.search} \n              onChange = {this.updateSearch.bind(this)}/> */}\n          <Form>\n              <Form.Control type=\"name\"\n                            block\n                            // className = 'search'\n                            placeholder=\"search...\"\n                            value ={this.state.search} \n                            onChange = {this.updateSearch.bind(this)}/>\n          </Form>\n        </div>\n        <hr/>\n        <div className='directory-menu'>\n          {filteredRestaurants.map(({ _id, ...otherSectionProps }) => (\n         \n            <MenuItem key={_id} {...otherSectionProps} />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nDirectory.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(\n  mapStateToProps,\n  { logoutUser }\n)(Directory);\n"]},"metadata":{},"sourceType":"module"}